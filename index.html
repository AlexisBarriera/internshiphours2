<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internship Hour Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function CalendarIcon() {
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
            );
        }

        function InternshipTracker() {
            const [entries, setEntries] = useState(() => {
                const savedEntries = localStorage.getItem('internshipEntries');
                return savedEntries ? JSON.parse(savedEntries) : [
                    { date: '2025-09-15', startTime: '12:30', endTime: '17:00', hours: 4.5 },
                    { date: '2025-09-17', startTime: '13:00', endTime: '17:00', hours: 4 },
                    { date: '2025-09-22', startTime: '13:00', endTime: '17:00', hours: 4 },
                    { date: '2025-09-24', startTime: '13:00', endTime: '17:00', hours: 4 },
                    { date: '2025-09-29', startTime: '13:00', endTime: '17:00', hours: 4 },
                    { date: '2025-10-01', startTime: '12:30', endTime: '17:00', hours: 4.5 }
                ];
            });

            const [newDate, setNewDate] = useState('');
            const [newStartTime, setNewStartTime] = useState('');
            const [newEndTime, setNewEndTime] = useState('');

            useEffect(() => {
                localStorage.setItem('internshipEntries', JSON.stringify(entries));
            }, [entries]);

            const TOTAL_REQUIRED_HOURS = 90;
            const START_DATE = new Date('2025-09-15');
            const END_DATE = new Date('2025-12-08');

            const calculateHours = (start, end) => {
                const [startHour, startMin] = start.split(':').map(Number);
                const [endHour, endMin] = end.split(':').map(Number);
                const startInMin = startHour * 60 + startMin;
                const endInMin = endHour * 60 + endMin;
                return (endInMin - startInMin) / 60;
            };

            const addEntry = () => {
                if (newDate && newStartTime && newEndTime) {
                    const hours = calculateHours(newStartTime, newEndTime);
                    setEntries([...entries, {
                        date: newDate,
                        startTime: newStartTime,
                        endTime: newEndTime,
                        hours: hours
                    }].sort((a, b) => new Date(a.date) - new Date(b.date)));
                    setNewDate('');
                    setNewStartTime('');
                    setNewEndTime('');
                }
            };

            const deleteEntry = (index) => {
                setEntries(entries.filter((_, i) => i !== index));
            };

            const totalHours = entries.reduce((sum, entry) => sum + entry.hours, 0);
            const remainingHours = TOTAL_REQUIRED_HOURS - totalHours;
            const hoursPerWeek = 5 * 2; // 5 hours per day, 2 days per week
            const remainingWeeks = Math.ceil(remainingHours / hoursPerWeek);
            const hoursWorkedThisRegime = Math.floor(totalHours / hoursPerWeek) * hoursPerWeek;
            const remainingHoursFromPartialWeek = (totalHours - hoursWorkedThisRegime) > 0
                ? Math.ceil((remainingHours % hoursPerWeek) / 5) * 5
                : Math.ceil(remainingHours / 5);

            const generateCalendar = () => {
                const months = [];
                let current = new Date(START_DATE);
                
                while (current <= END_DATE) {
                    const month = current.getMonth();
                    const year = current.getFullYear();
                    
                    if (!months.find(m => m.month === month && m.year === year)) {
                        const firstDay = new Date(year, month, 1);
                        const lastDay = new Date(year, month + 1, 0);
                        const startingDayOfWeek = firstDay.getDay();
                        const daysInMonth = lastDay.getDate();
                        
                        months.push({
                            month,
                            year,
                            startingDayOfWeek,
                            daysInMonth,
                            name: firstDay.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })
                        });
                    }
                    
                    current.setMonth(current.getMonth() + 1);
                    current.setDate(1);
                }
                
                return months;
            };

            const isWorkDay = (date) => {
                const dateStr = date.toISOString().split('T')[0];
                return entries.some(entry => entry.date === dateStr);
            };

            const isInRange = (date) => {
                return date >= START_DATE && date <= END_DATE;
            };

            const months = generateCalendar();

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
                    <div className="max-w-6xl mx-auto">
                        <div className="bg-white rounded-lg shadow-xl p-8 mb-8">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="text-indigo-600">
                                    <CalendarIcon />
                                </div>
                                <h1 className="text-3xl font-bold text-gray-800">Internship Hour Tracker</h1>
                            </div>
                            
                            <div className="grid md:grid-cols-2 gap-6 mb-8">
                                <div className="bg-indigo-50 p-6 rounded-lg">
                                    <h2 className="text-xl font-semibold text-indigo-900 mb-4">Progress Summary</h2>
                                    <div className="space-y-2">
                                        <p className="text-lg"><span className="font-semibold">Total Hours Worked:</span> {totalHours.toFixed(2)} hours</p>
                                        <p className="text-lg"><span className="font-semibold">Required Hours:</span> {TOTAL_REQUIRED_HOURS} hours</p>
                                        <p className="text-lg"><span className="font-semibold">Remaining:</span> {remainingHours.toFixed(2)} hours</p>
                                        <div className="mt-4 pt-4 border-t border-indigo-200">
                                            <p className="text-lg text-indigo-600 mb-2">
                                                Based on 2 days/week (Mon & Wed) at 5 hours/day:
                                            </p>
                                            <p className="text-xl font-bold text-indigo-600">
                                                {remainingWeeks} more weeks needed
                                            </p>
                                        </div>
                                    </div>
                                    <div className="mt-4">
                                        <div className="w-full bg-gray-200 rounded-full h-4">
                                            <div 
                                                className="bg-indigo-600 h-4 rounded-full transition-all duration-500"
                                                style={{ width: `${(totalHours / TOTAL_REQUIRED_HOURS) * 100}%` }}
                                            ></div>
                                        </div>
                                        <p className="text-sm text-gray-600 mt-2 text-center">
                                            {((totalHours / TOTAL_REQUIRED_HOURS) * 100).toFixed(1)}% Complete
                                        </p>
                                    </div>
                                </div>

                                <div className="bg-green-50 p-6 rounded-lg">
                                    <h2 className="text-xl font-semibold text-green-900 mb-4">Add New Entry</h2>
                                    <div className="space-y-3">
                                        <input
                                            type="date"
                                            value={newDate}
                                            onChange={(e) => setNewDate(e.target.value)}
                                            min="2025-09-15"
                                            max="2025-12-08"
                                            className="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:outline-none"
                                        />
                                        <input
                                            type="time"
                                            value={newStartTime}
                                            onChange={(e) => setNewStartTime(e.target.value)}
                                            placeholder="Start Time"
                                            className="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:outline-none"
                                        />
                                        <input
                                            type="time"
                                            value={newEndTime}
                                            onChange={(e) => setNewEndTime(e.target.value)}
                                            placeholder="End Time"
                                            className="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:outline-none"
                                        />
                                        <button
                                            onClick={addEntry}
                                            className="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition-colors font-semibold"
                                        >
                                            Add Entry
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div className="mb-8">
                                <h2 className="text-2xl font-semibold text-gray-800 mb-4">Work Log</h2>
                                <div className="overflow-x-auto">
                                    <table className="w-full border-collapse">
                                        <thead>
                                            <tr className="bg-gray-100">
                                                <th className="border border-gray-300 p-3 text-left">Date</th>
                                                <th className="border border-gray-300 p-3 text-left">Start Time</th>
                                                <th className="border border-gray-300 p-3 text-left">End Time</th>
                                                <th className="border border-gray-300 p-3 text-left">Hours</th>
                                                <th className="border border-gray-300 p-3 text-left">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {entries.map((entry, index) => (
                                                <tr key={index} className="hover:bg-gray-50">
                                                    <td className="border border-gray-300 p-3">
                                                        {new Date(entry.date + 'T00:00:00').toLocaleDateString('en-US', { 
                                                            month: 'long', 
                                                            day: 'numeric', 
                                                            year: 'numeric' 
                                                        })}
                                                    </td>
                                                    <td className="border border-gray-300 p-3">{entry.startTime}</td>
                                                    <td className="border border-gray-300 p-3">{entry.endTime}</td>
                                                    <td className="border border-gray-300 p-3 font-semibold">{entry.hours.toFixed(2)}</td>
                                                    <td className="border border-gray-300 p-3">
                                                        <button
                                                            onClick={() => deleteEntry(index)}
                                                            className="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition-colors text-sm"
                                                        >
                                                            Delete
                                                        </button>
                                                    </td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div>
                                <h2 className="text-2xl font-semibold text-gray-800 mb-4">Internship Calendar</h2>
                                <p className="text-sm text-gray-600 mb-4">September 15, 2025 - December 8, 2025</p>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {months.map((monthData, i) => (
                                        <div key={i} className="bg-gray-50 p-4 rounded-lg">
                                            <h3 className="font-bold text-center mb-3 text-gray-700">{monthData.name}</h3>
                                            <div className="grid grid-cols-7 gap-1">
                                                {['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'].map(day => (
                                                    <div key={day} className="text-center text-xs font-semibold text-gray-600 p-1">
                                                        {day}
                                                    </div>
                                                ))}
                                                {Array(monthData.startingDayOfWeek).fill(null).map((_, i) => (
                                                    <div key={`empty-${i}`} className="p-1"></div>
                                                ))}
                                                {Array(monthData.daysInMonth).fill(null).map((_, i) => {
                                                    const day = i + 1;
                                                    const date = new Date(monthData.year, monthData.month, day);
                                                    const inRange = isInRange(date);
                                                    const worked = isWorkDay(date);
                                                    
                                                    return (
                                                        <div
                                                            key={day}
                                                            className={`p-2 text-center text-sm rounded ${
                                                                worked
                                                                    ? 'bg-indigo-600 text-white font-bold'
                                                                    : inRange
                                                                    ? 'bg-indigo-100 text-gray-700'
                                                                    : 'text-gray-400'
                                                            }`}
                                                        >
                                                            {day}
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <div className="mt-4 flex gap-4 justify-center text-sm">
                                    <div className="flex items-center gap-2">
                                        <div className="w-4 h-4 bg-indigo-600 rounded"></div>
                                        <span>Worked Day</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <div className="w-4 h-4 bg-indigo-100 rounded"></div>
                                        <span>Internship Period</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InternshipTracker />);
    </script>
</body>
</html>
